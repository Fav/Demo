<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="User" 
    xmlns="http://ibatis.apache.org/mapping"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<alias>
		<!--类的别名-->
		<typeAlias alias="User" type="ProjectElu.USER,ProjectElu"/>
	</alias>

	<resultMaps>
		<!--USER类与db表的映射-->
		<resultMap id="SelectAllResult" class="User">
			<result property="ID" column="ID"/>
			<result property="USERNAME" column="USERNAME"/>
			<result property="PASSWORD" column="PASSWORD" />
			<result property="ROLETYPE" column="ROLETYPE"  />
			<result property="UNIT" column="UNIT" />
		</resultMap>
	</resultMaps>

	<statements>

		<!--查询所有记录-->
		<select id="USER.SelectAll" resultMap="SelectAllResult">
			<![CDATA[SELECT ID,USERNAME,PASSWORD,ROLETYPE,UNIT FROM USER]]>
		</select>

		<!--查询单条记录-->
		<select id="USER.SelectByID" parameterClass="string" resultMap="SelectAllResult">
			<![CDATA[ where ID = #value#  ]]>
		</select>

		<!--插入新记录-->
		<insert id="USER.Insert" parameterClass="User">	
			<!--oracle sequence的示例用法
			<selectKey property="ID" type="pre" resultClass="int">
				select SQ_USER.nextval as ID from dual
			</selectKey>
      -->
			<![CDATA[INSERT into USER(ID,PASSWORD,USERNAME,ROLETYPE,UNIT)
			VALUES(#ID#,#PASSWORD#, #USERNAME# , #ROLETYPE# , #UNIT#)]]>
		</insert>

		<!--更新单条记录-->
		<update id="USER.Update" parameterClass="User">
			<![CDATA[Update USER SET USERNAME=#USERNAME#,
			PASSWORD=#PASSWORD#,			
			ROLETYPE=#ROLETYPE#,
			UNIT=#UNIT#
			Where ID=#ID#]]>
		</update>

		<!--根据主键删除单条记录-->
		<delete id="USER.DeleteById" parameterClass="string">
			<![CDATA[Delete From USER Where ID=#value#]]>
		</delete>


	</statements>

</sqlMap>

